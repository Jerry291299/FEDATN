{"ast":null,"code":"var _jsxFileName = \"/Users/huy/FEDATN/FEDATN/src/components/admin/listcategory.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Popconfirm } from 'antd';\nimport { delCategory, getAllCategories } from '../../service/category';\nimport LoadingComponent from '../Loading';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Listcategory = props => {\n  _s();\n  const [categories, setCategory] = useState([]);\n  const param = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const data = await getAllCategories();\n        setCategory(data);\n        console.log(data, \"data\");\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n  const handleDeleteCategory = async id => {\n    try {\n      await delCategory(id);\n      const updatedCategories = categories.filter(category => category._id !== id);\n      setCategory(updatedCategories);\n      console.log(`Category with id ${id} deleted successfully`);\n    } catch (error) {\n      console.log(\"Error deleting category:\", error);\n    }\n  };\n  const updateCategory = id => {\n    navigate(`updatecategory/${id}`);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading && /*#__PURE__*/_jsxDEV(LoadingComponent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col w-full\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"py-2 inline-block w-full px-0\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-hidden\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"min-w-full table-auto\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-white border-b\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"text-sm font-medium text-gray-900 px-6 py-4 text-left\",\n                    children: \"Stt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 61,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"text-sm font-medium text-gray-900 px-6 py-4 text-left\",\n                    children: \"T\\xEAn danh m\\u1EE5c\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"text-sm font-medium text-gray-900 px-6 py-4 text-left\",\n                    children: \"Handle\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 67,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: categories.map((category, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"bg-gray-100 border-b\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",\n                    children: index + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap\",\n                    children: category.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"focus:outline-none text-white bg-sky-600 hover:bg-sky-900 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2\",\n                      onClick: () => updateCategory(category._id),\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 82,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Popconfirm, {\n                      title: \"Delete the task\",\n                      description: \"Are you sure to delete this task?\",\n                      onConfirm: () => handleDeleteCategory(category._id),\n                      okText: \"Yes\",\n                      cancelText: \"No\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900\",\n                        children: \"Delete\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 96,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 23\n                  }, this)]\n                }, category._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Listcategory, \"5VsaEVFvGJ2Eaatm+/6E4nQjx5w=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Listcategory;\nexport default Listcategory;\nvar _c;\n$RefreshReg$(_c, \"Listcategory\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","Popconfirm","delCategory","getAllCategories","LoadingComponent","jsxDEV","_jsxDEV","Fragment","_Fragment","Listcategory","props","_s","categories","setCategory","param","navigate","loading","setLoading","fetchData","data","console","log","error","handleDeleteCategory","id","updatedCategories","filter","category","_id","updateCategory","children","fileName","_jsxFileName","lineNumber","columnNumber","className","scope","map","index","name","type","onClick","title","description","onConfirm","okText","cancelText","_c","$RefreshReg$"],"sources":["/Users/huy/FEDATN/FEDATN/src/components/admin/listcategory.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { DeleteProduct, getAllproducts } from '../../service/products';\nimport { Iproduct } from '../../interface/products';\nimport { Icategory, IcategoryLite } from '../../interface/category';\nimport { Popconfirm } from 'antd';\nimport { delCategory, getAllCategories, updateCategory } from '../../service/category';\nimport LoadingComponent from '../Loading';\n\ntype Props = {}\n\nconst Listcategory = (props: Props) => {\n  const [categories, setCategory] = useState<Icategory[]>([]);\n  const param = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState<boolean>(false)\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true)\n        const data = await getAllCategories();\n        setCategory(data);\n        console.log(data, \"data\");\n      } catch (error) {\n        console.log(error);\n      } finally{\n        setLoading(false)\n      }\n    };\n    fetchData();\n  }, []);\n\n  const handleDeleteCategory = async (id: string) => {\n    try {\n    \n      await delCategory(id);\n    \n      const updatedCategories = categories.filter((category) => category._id !== id);\n      setCategory(updatedCategories);\n      console.log(`Category with id ${id} deleted successfully`);\n    } catch (error) {\n      console.log(\"Error deleting category:\", error);\n    }\n  };\n\n  const updateCategory = (id: string) => {\n    navigate(`updatecategory/${id}`);\n  };\n\n  return (\n    <>\n    {loading && <LoadingComponent />}\n      <div className=\"flex flex-col w-full\">\n        <div className=\"overflow-x-auto\">\n          <div className=\"py-2 inline-block w-full px-0\">\n            <div className=\"overflow-hidden\">\n              <table className=\"min-w-full table-auto\">\n                <thead className=\"bg-white border-b\">\n                  <tr>\n                    <th scope=\"col\" className=\"text-sm font-medium text-gray-900 px-6 py-4 text-left\">\n                      Stt\n                    </th>\n                    <th scope=\"col\" className=\"text-sm font-medium text-gray-900 px-6 py-4 text-left\">\n                      Tên danh mục\n                    </th>\n                    <th scope=\"col\" className=\"text-sm font-medium text-gray-900 px-6 py-4 text-left\">\n                      Handle\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {categories.map((category: Icategory, index: number) => (\n                    <tr className=\"bg-gray-100 border-b\" key={category._id}>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                        {index + 1}\n                      </td>\n                      <td className=\"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap\">\n                        {category.name}\n                      </td>\n                      <td className=\"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap\">\n                        <button\n                          type=\"button\"\n                          className=\"focus:outline-none text-white bg-sky-600 hover:bg-sky-900 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2\"\n                          onClick={() => updateCategory(category._id)}\n                        >\n                          Edit\n                        </button>\n                        <Popconfirm\n                          title=\"Delete the task\"\n                          description=\"Are you sure to delete this task?\"\n                          onConfirm={() => handleDeleteCategory(category._id)}\n                          okText=\"Yes\"\n                          cancelText=\"No\"\n                        >\n                          <button\n                            type=\"button\"\n                            className=\"focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900\"\n                          >\n                            Delete\n                          </button>\n                        </Popconfirm>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Listcategory;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AAIzD,SAASC,UAAU,QAAQ,MAAM;AACjC,SAASC,WAAW,EAAEC,gBAAgB,QAAwB,wBAAwB;AACtF,OAAOC,gBAAgB,MAAM,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAI1C,MAAMC,YAAY,GAAIC,KAAY,IAAK;EAAAC,EAAA;EACrC,MAAM,CAACC,UAAU,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAc,EAAE,CAAC;EAC3D,MAAMgB,KAAK,GAAGd,SAAS,CAAC,CAAC;EACzB,MAAMe,QAAQ,GAAGhB,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACiB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAU,KAAK,CAAC;EAEtDD,SAAS,CAAC,MAAM;IACd,MAAMqB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACFD,UAAU,CAAC,IAAI,CAAC;QAChB,MAAME,IAAI,GAAG,MAAMhB,gBAAgB,CAAC,CAAC;QACrCU,WAAW,CAACM,IAAI,CAAC;QACjBC,OAAO,CAACC,GAAG,CAACF,IAAI,EAAE,MAAM,CAAC;MAC3B,CAAC,CAAC,OAAOG,KAAK,EAAE;QACdF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;MACpB,CAAC,SAAQ;QACPL,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IACDC,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMK,oBAAoB,GAAG,MAAOC,EAAU,IAAK;IACjD,IAAI;MAEF,MAAMtB,WAAW,CAACsB,EAAE,CAAC;MAErB,MAAMC,iBAAiB,GAAGb,UAAU,CAACc,MAAM,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,GAAG,KAAKJ,EAAE,CAAC;MAC9EX,WAAW,CAACY,iBAAiB,CAAC;MAC9BL,OAAO,CAACC,GAAG,CAAC,oBAAoBG,EAAE,uBAAuB,CAAC;IAC5D,CAAC,CAAC,OAAOF,KAAK,EAAE;MACdF,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEC,KAAK,CAAC;IAChD;EACF,CAAC;EAED,MAAMO,cAAc,GAAIL,EAAU,IAAK;IACrCT,QAAQ,CAAC,kBAAkBS,EAAE,EAAE,CAAC;EAClC,CAAC;EAED,oBACElB,OAAA,CAAAE,SAAA;IAAAsB,QAAA,GACCd,OAAO,iBAAIV,OAAA,CAACF,gBAAgB;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC9B5B,OAAA;MAAK6B,SAAS,EAAC,sBAAsB;MAAAL,QAAA,eACnCxB,OAAA;QAAK6B,SAAS,EAAC,iBAAiB;QAAAL,QAAA,eAC9BxB,OAAA;UAAK6B,SAAS,EAAC,+BAA+B;UAAAL,QAAA,eAC5CxB,OAAA;YAAK6B,SAAS,EAAC,iBAAiB;YAAAL,QAAA,eAC9BxB,OAAA;cAAO6B,SAAS,EAAC,uBAAuB;cAAAL,QAAA,gBACtCxB,OAAA;gBAAO6B,SAAS,EAAC,mBAAmB;gBAAAL,QAAA,eAClCxB,OAAA;kBAAAwB,QAAA,gBACExB,OAAA;oBAAI8B,KAAK,EAAC,KAAK;oBAACD,SAAS,EAAC,uDAAuD;oBAAAL,QAAA,EAAC;kBAElF;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACL5B,OAAA;oBAAI8B,KAAK,EAAC,KAAK;oBAACD,SAAS,EAAC,uDAAuD;oBAAAL,QAAA,EAAC;kBAElF;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACL5B,OAAA;oBAAI8B,KAAK,EAAC,KAAK;oBAACD,SAAS,EAAC,uDAAuD;oBAAAL,QAAA,EAAC;kBAElF;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,eACR5B,OAAA;gBAAAwB,QAAA,EACGlB,UAAU,CAACyB,GAAG,CAAC,CAACV,QAAmB,EAAEW,KAAa,kBACjDhC,OAAA;kBAAI6B,SAAS,EAAC,sBAAsB;kBAAAL,QAAA,gBAClCxB,OAAA;oBAAI6B,SAAS,EAAC,+DAA+D;oBAAAL,QAAA,EAC1EQ,KAAK,GAAG;kBAAC;oBAAAP,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACR,CAAC,eACL5B,OAAA;oBAAI6B,SAAS,EAAC,8DAA8D;oBAAAL,QAAA,EACzEH,QAAQ,CAACY;kBAAI;oBAAAR,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACZ,CAAC,eACL5B,OAAA;oBAAI6B,SAAS,EAAC,8DAA8D;oBAAAL,QAAA,gBAC1ExB,OAAA;sBACEkC,IAAI,EAAC,QAAQ;sBACbL,SAAS,EAAC,gJAAgJ;sBAC1JM,OAAO,EAAEA,CAAA,KAAMZ,cAAc,CAACF,QAAQ,CAACC,GAAG,CAAE;sBAAAE,QAAA,EAC7C;oBAED;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,eACT5B,OAAA,CAACL,UAAU;sBACTyC,KAAK,EAAC,iBAAiB;sBACvBC,WAAW,EAAC,mCAAmC;sBAC/CC,SAAS,EAAEA,CAAA,KAAMrB,oBAAoB,CAACI,QAAQ,CAACC,GAAG,CAAE;sBACpDiB,MAAM,EAAC,KAAK;sBACZC,UAAU,EAAC,IAAI;sBAAAhB,QAAA,eAEfxB,OAAA;wBACEkC,IAAI,EAAC,QAAQ;wBACbL,SAAS,EAAC,8MAA8M;wBAAAL,QAAA,EACzN;sBAED;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAQ;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACC,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACX,CAAC;gBAAA,GA7BmCP,QAAQ,CAACC,GAAG;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OA8BlD,CACL;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA,eACN,CAAC;AAEP,CAAC;AAACvB,EAAA,CAtGIF,YAAY;EAAA,QAEFT,SAAS,EACND,WAAW;AAAA;AAAAgD,EAAA,GAHxBtC,YAAY;AAwGlB,eAAeA,YAAY;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}